{"version":3,"sources":["components/features/surveillance/SingleVideo.js","components/features/surveillance/PowerSwitch.js","components/features/surveillance/Settings.js","components/features/surveillance/VideoLandingPage.js"],"names":["SingleVideo","props","handle","useFullScreenHandle","handleExpand","active","exit","enter","addVideoorImage","videoSource","match","className","src","alt","style","objectFit","maxHeight","maxWidth","title","frameBorder","allow","allowFullScreen","getComponent","cameraName","onClick","activeCameraCount","border","name","PowerSwitch","useState","tempState","setTempState","useEffect","item","state","Fragment","updateStateInParent","type","defaultChecked","xlinkHref","xmlns","display","viewBox","id","x1","y1","x2","y2","cx","cy","r","Settings","useStateValue","dispatch","open","setOpen","camera_list","setCameraList","localStorage","getItem","JSON","parse","cameraStatus","status","map","setItem","stringify","console","log","top","left","width","height","background","zIndex","overflow","listStyleType","VideoLandingPage","setActiveCameraCount","updateCameraStatus","cameraCount","filter","length","e","right","removeItem","window","location","reload","marginRight","returnCameraComponent"],"mappings":"8KAiEeA,EA9DK,SAACC,GAEnB,IAAMC,EAASC,cACXC,EAAe,SAACF,GAClB,OAAIA,EAAOG,OACFH,EAAOI,KAEPJ,EAAOK,OAIZC,EAAkB,SAACC,GAAD,OACyB,OAApC,OAAXA,QAAW,IAAXA,OAAA,EAAAA,EAAaC,MAAM,0BACjB,qBAAKC,UAAU,gBAAgBC,IAAKH,EAAaI,IAAI,SAASC,MAAO,CAACC,UAAW,UAAWC,UAAW,OAAQC,SAAU,UAEzH,wBACEN,UAAU,gBACVC,IAAKH,EACLS,MAAM,uBACNC,YAAY,IACZC,MAAM,2FACNC,iBAAe,KAGfC,EAAe,SAACC,EAAYd,GAAb,OACnB,eAAC,IAAD,CACEP,OAAQA,EACRS,UAAU,+DAFZ,UAKGH,EAAgBC,GACjB,sBAAKE,UAAU,sEAAf,UACE,qBAAKA,UAAU,gCAAf,kBACA,qBAAKA,UAAU,aAAf,SAA6BY,IAC7B,mBAAGZ,UAAU,sBAAsBa,QAASpB,EAAaF,YAI/D,OAAmC,IAA5BD,EAAMwB,kBACX,qBACEd,UAAU,uHACVG,MAAO,CAAEY,OAAQ,oBAFnB,SAIGJ,EAAarB,EAAM0B,KAAM1B,EAAMQ,eAEJ,IAA5BR,EAAMwB,kBACR,qBACEd,UAAU,oHACVG,MAAO,CAAEY,OAAQ,oBAFnB,SAIGJ,EAAarB,EAAM0B,KAAM1B,EAAMQ,eAGlC,qBACEE,UAAU,oHACVG,MAAO,CAAEY,OAAQ,oBAFnB,SAIGJ,EAAarB,EAAM0B,KAAM1B,EAAMQ,gBCPvBmB,G,OAnDK,SAAC3B,GAEnB,MAA+B4B,oBAAS,GAAxC,mBAAOC,EAAP,KAAiBC,EAAjB,KACAC,qBAAU,WAERD,EAAa9B,EAAMgC,KAAKC,SACxB,CAACjC,IAKH,OACE,eAAC,IAAMkC,SAAP,WACE,sBAAKxB,UAAU,eAAea,QANb,WACnBO,GAAc9B,EAAMgC,KAAKC,OACzBjC,EAAMmC,oBAAoBnC,EAAMgC,KAAKN,MAAO1B,EAAMgC,KAAKC,QAIrD,UACGjC,EAAMgC,KAAKC,OAASJ,EACnB,uBAAOO,KAAK,WAAWC,gBAAc,IAErC,uBAAOD,KAAK,aAEd,sBAAK1B,UAAU,SAAf,UACE,sBAAKA,UAAU,YAAf,UACE,qBAAK4B,UAAU,QAAQ5B,UAAU,SACjC,qBAAK4B,UAAU,UAAU5B,UAAU,cAErC,sBAAKA,UAAU,WAAf,UACE,qBAAK4B,UAAU,QAAQ5B,UAAU,SACjC,qBAAK4B,UAAU,UAAU5B,UAAU,oBAKzC,sBAAK6B,MAAM,6BAA6B1B,MAAO,CAAE2B,QAAS,QAA1D,UACE,wBACED,MAAM,6BACNE,QAAQ,cACRC,GAAG,OAHL,SAKE,sBAAMC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,OAEpC,wBACEP,MAAM,6BACNE,QAAQ,cACRC,GAAG,SAHL,SAKE,wBAAQK,GAAI,GAAIC,GAAI,GAAIC,EAAG,eC8FtBC,EAzIE,WAEf,MAAqBC,cAAZC,EAAT,oBAEA,EAAwBxB,oBAAS,GAAjC,mBAAOyB,EAAP,KAAaC,EAAb,KAEA,EAAqC1B,mBAAS,CAC5C,CACEF,KAAM,MACNO,OAAO,EACPzB,YAAa,6CAEf,CACEkB,KAAM,MACNO,OAAO,EACPzB,YACE,kFAEJ,CACEkB,KAAM,QACNO,OAAO,EACPzB,YACE,kFAEJ,CACEkB,KAAM,OACNO,OAAO,EACPzB,YACE,kFAEJ,CACEkB,KAAM,OACNO,OAAO,EACPzB,YACE,kFAEJ,CACEkB,KAAM,MACNO,OAAO,EACPzB,YACE,oFAlCN,mBAAO+C,EAAP,KAAoBC,EAApB,KAsCAzB,qBAAU,WAkBJ0B,aAAaC,QAAQ,gBACvBF,EAAcG,KAAKC,MAAMH,aAAaC,QAAQ,mBAE/C,IAEH3B,qBAAU,WACRqB,EAAS,CACPhB,KAAM,uBACNyB,aAAcN,MAEf,CAACA,EAAYH,IAGhB,IAKMjB,EAAsB,SAACT,EAAMoC,GACjCP,EAAYQ,KAAI,SAAC/B,GAAD,OACdA,EAAKN,OAASA,EAAQM,EAAI,MAAY8B,EAAU,MAGlDL,aAAaO,QAAQ,cAAeL,KAAKM,UAAUV,IACnDH,EAAS,CACPhB,KAAM,uBACNyB,aAAcN,KAGlB,OACE,eAAC,IAAMrB,SAAP,WACE,mBAAGxB,UAAU,aAAaa,QAlBV,WAClB2C,QAAQC,IAAI,WACZb,GAASD,MAkBNA,GACC,sBACE3C,UAAU,8DACVG,MAAO,CACLuD,IAAK,OACLC,KAAM,SACNC,MAAO,QACPC,OAAQ,QACRC,WAAY,kBACZC,OAAQ,EACRC,SAAU,UATd,UAYE,wCACA,oBACEhE,UAAU,sDACVG,MAAO,CAAE8D,cAAe,QAF1B,SAMGpB,EAAYQ,KAAI,SAAC/B,GAAD,OACf,sBACEtB,UAAU,0DADZ,UAIE,qBAAIA,UAAU,OAAd,oBACUsB,EAAKN,OADW,SAAWM,EAAKN,MAG1C,cAAC,EAAD,CAEEM,KAAMA,EACNG,oBAAqBA,GAFhBH,EAAKN,QANPM,EAAKN,kBC7CXkD,UAvEU,WACvB,MAA2BzB,cAAlBU,EAAT,oBAASA,aACT,EAAqCjC,mBAAS,IAA9C,mBAAO2B,EAAP,KAAoBC,EAApB,KACA,EAAkD5B,mBAAS,GAA3D,mBAAOJ,EAAP,KAA0BqD,EAA1B,KACMC,EAAoBnB,KAAKM,UAAUJ,GAEzC9B,qBAAU,WACR,IACE,IAAIwB,EAAcM,EAEdkB,EAAcxB,EAAYyB,QAC5B,mBAAyB,IAAzB,EAAG/C,SACHgD,OACFJ,EAAqBE,GACrBvB,EAAcD,GACd,MAAO2B,GACPhB,QAAQC,IAAI,YAEb,CAACW,EAAmBjB,IA4BvB,OACE,sBAAKnD,UAAU,wCAAf,UACE,sBACEA,UAAU,qFACVG,MAAO,CAAEsE,MAAO,OAAQV,OAAQ,GAFlC,UAIE,qBAAKlD,QAbS,WAClB2C,QAAQC,IAAI,wBAEZV,aAAa2B,WAAW,SAExBC,OAAOC,SAASC,QAAO,IAQnB,SACE,qBACE5E,IAAI,0FACJE,MAAO,CACLyD,MAAO,OACPC,OAAQ,OACRiB,YAAa,WAInB,cAAC,EAAD,OAEF,qBAAK9E,UAAU,sBAAf,SA5C0B,SAAC6C,GAC7B,GAAIA,EAAY0B,OAAS,EAcvB,OAZ0B1B,EAAYQ,KAAI,SAAC/B,GAAD,OACxCA,EAAKC,MACH,cAAC,EAAD,CAEET,kBAAmBA,EACnBE,KAAMM,EAAKN,KACXlB,YAAawB,EAAKxB,aAHbwB,EAAKN,MAMZ,MAiCD+D,CAAsBlC,U","file":"static/js/3.fc704ba6.chunk.js","sourcesContent":["import React from \"react\";\nimport { FullScreen, useFullScreenHandle } from \"react-full-screen\";\nimport '../../../css/responsive2x2.css'\nconst SingleVideo = (props) => {\n  // console.log(props);\n  const handle = useFullScreenHandle();\n  var handleExpand = (handle) => {\n    if (handle.active) {\n      return handle.exit;\n    } else {\n      return handle.enter;\n    }\n  };\n\n  const addVideoorImage = (videoSource) =>\n    videoSource?.match(/\\.(jpeg|jpg|gif|png)$/) != null ? (\n      <img className=\"w-100 h-auto \" src={videoSource} alt=\"image1\" style={{objectFit: 'contain', maxHeight: '100%', maxWidth: '100%'}}/>\n    ) : (\n      <iframe\n        className=\"w-100 h-auto \"\n        src={videoSource}\n        title=\"YouTube video player\"\n        frameBorder=\"0\"\n        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n        allowFullScreen\n      ></iframe>\n    );\n  const getComponent = (cameraName, videoSource) => (\n    <FullScreen\n      handle={handle}\n      className=\"w-100 h-100 d-flex align-items-center justify-content-center\"\n    >\n      {/**/}\n      {addVideoorImage(videoSource)}\n      <div className=\"w-100 d-flex position-absolute p-1 bottom-0 start-0 responsive__bar\">\n        <div className=\"livebtn  bottom-0 start-0 p-1\">live</div>\n        <div className=\"camera p-1\">{cameraName}</div>\n        <i className=\"fas fa-expand fa-2x\" onClick={handleExpand(handle)}></i>\n      </div>\n    </FullScreen>\n  );\n  return props.activeCameraCount === 1 ? (\n    <div\n      className=\"singlevideo col-12 col-sm-12 col-md-12 col-lg-12 d-flex align-items-center justify-content-center position-relative \"\n      style={{ border: \"1px solid orange\" }}\n    >\n      {getComponent(props.name, props.videoSource)}\n    </div>\n  ) : props.activeCameraCount === 2 ? (\n    <div\n      className=\"singlevideo col-12 col-sm-6 col-md-6 col-lg-6 d-flex align-items-center justify-content-center position-relative \"\n      style={{ border: \"1px solid orange\" }}\n    >\n      {getComponent(props.name, props.videoSource)}\n    </div>\n  ) : (\n    <div\n      className=\"singlevideo col-12 col-sm-6 col-md-6 col-lg-4 d-flex align-items-center justify-content-center position-relative \"\n      style={{ border: \"1px solid orange\" }}\n    >\n      {getComponent(props.name, props.videoSource)}\n    </div>\n  );\n};\n\nexport default SingleVideo;\n","import React,{useState,useEffect} from \"react\";\nimport \"../../../css/powerswitch.css\";\nconst PowerSwitch = (props) => {\n  // console.log(props.item);\n  const [tempState,setTempState]=useState(false)\n  useEffect(()=>{\n    // console.log(props.item.state)\n    setTempState(props.item.state)\n  },[props])\n  const updateStatus = () => {\n    setTempState(!props.item.state)\n    props.updateStateInParent(props.item.name, !props.item.state);\n  };\n  return (\n    <React.Fragment>\n      <div className=\"power-switch\" onClick={updateStatus}>\n        {props.item.state && tempState ? (\n          <input type=\"checkbox\" defaultChecked />\n        ) : (\n          <input type=\"checkbox\" />\n        )}\n        <div className=\"button\">\n          <svg className=\"power-off\">\n            <use xlinkHref=\"#line\" className=\"line\" />\n            <use xlinkHref=\"#circle\" className=\"circle\" />\n          </svg>\n          <svg className=\"power-on\">\n            <use xlinkHref=\"#line\" className=\"line\" />\n            <use xlinkHref=\"#circle\" className=\"circle\" />\n          </svg>\n        </div>\n      </div>\n      {/* SVG */}\n      <svg xmlns=\"http://www.w3.org/2000/svg\" style={{ display: \"none\" }}>\n        <symbol\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 100 100\"\n          id=\"line\"\n        >\n          <line x1={50} y1={30} x2={50} y2={50} />\n        </symbol>\n        <symbol\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 100 100\"\n          id=\"circle\"\n        >\n          <circle cx={70} cy={60} r={20} />\n        </symbol>\n      </svg>\n    </React.Fragment>\n  );\n};\n\nexport default PowerSwitch;\n","import React, { useState, useEffect } from \"react\";\nimport PowerSwitch from \"./PowerSwitch\";\nimport { useStateValue } from \"../../../context-api/StateProvider\";\nconst Settings = () => {\n  //   const [open, setOpen] = useState(false);\n  const [, dispatch] = useStateValue();\n\n  const [open, setOpen] = useState(false);\n  //  send either video or an image source\n  const [camera_list, setCameraList] = useState([\n    {\n      name: \"one\",\n      state: true,\n      videoSource: \"https://www.youtube.com/embed/l4nfjPLkRXo\",\n    },\n    {\n      name: \"two\",\n      state: true,\n      videoSource:\n        \"https://www.imgacademy.com/themes/custom/imgacademy/images/helpbox-contact.jpg\",\n    },\n    {\n      name: \"three\",\n      state: true,\n      videoSource:\n        \"https://www.imgacademy.com/themes/custom/imgacademy/images/helpbox-contact.jpg\",\n    },\n    {\n      name: \"four\",\n      state: true,\n      videoSource:\n        \"https://www.imgacademy.com/themes/custom/imgacademy/images/helpbox-contact.jpg\",\n    },\n    {\n      name: \"five\",\n      state: true,\n      videoSource:\n        \"https://www.imgacademy.com/themes/custom/imgacademy/images/helpbox-contact.jpg\",\n    },\n    {\n      name: \"six\",\n      state: true,\n      videoSource:\n        \"https://www.imgacademy.com/themes/custom/imgacademy/images/helpbox-contact.jpg\",\n    },\n  ]);\n\n  useEffect(() => {\n    // localStorage.clear('camera_list')\n    // if (!localStorage.getItem(\"camera_list\")) {\n    //   localStorage.setItem(\"camera_list\", JSON.stringify(camera_list));\n    //   dispatch({\n    //     type: \"UPDATE_CAMERA_STATUS\",\n    //     cameraStatus: camera_list,\n    //   });\n    // } else {\n    //   var _cameraList = JSON.parse(localStorage.getItem(\"camera_list\"));\n    //   console.log(_cameraList);\n    //   setCameraList(_cameraList);\n    //   dispatch({\n    //     type: \"UPDATE_CAMERA_STATUS\",\n    //     cameraStatus: _cameraList,\n    //   });\n    // }\n\n    if (localStorage.getItem(\"camera_list\")) {\n      setCameraList(JSON.parse(localStorage.getItem(\"camera_list\")));\n    }\n  }, []);\n\n  useEffect(() => {\n    dispatch({\n      type: \"UPDATE_CAMERA_STATUS\",\n      cameraStatus: camera_list,\n    });\n  }, [camera_list,dispatch]);\n\n  // status of settings button\n  const toggleState = () => {\n    console.log(\"clicked\");\n    setOpen(!open);\n  };\n\n  const updateStateInParent = (name, status) => {\n    camera_list.map((item) =>\n      item.name === name ? (item[\"state\"] = status) : \"\"\n    );\n    // console.log(camera_list);\n    localStorage.setItem(\"camera_list\", JSON.stringify(camera_list));\n    dispatch({\n      type: \"UPDATE_CAMERA_STATUS\",\n      cameraStatus: camera_list,\n    });\n  };\n  return (\n    <React.Fragment>\n      <i className=\"fas fa-cog\" onClick={toggleState}></i>\n\n      {open && (\n        <div\n          className=\"position-absolute p-2 d-flex flex-column align-items-center\"\n          style={{\n            top: \"20px\",\n            left: \"-300px\",\n            width: \"300px\",\n            height: \"250px\",\n            background: \"rgb(33, 34, 36)\",\n            zIndex: 1,\n            overflow: \"scroll\",\n          }}\n        >\n          <h4>Camera</h4>\n          <ul\n            className=\"m-0 p-2 w-100 d-flex flex-column align-items-center\"\n            style={{ listStyleType: \"none\" }}\n          >\n            {/* {console.log(camera_list)}\n            {console.log(\"here\")} */}\n            {camera_list.map((item) => (\n              <div\n                className=\"d-flex w-100 justify-content-between align-items-center\"\n                key={item.name}\n              >\n                <li className=\"pb-1\" key={`camera` + item.name}>\n                  Camera {item.name}\n                </li>\n                <PowerSwitch\n                  key={item.name}\n                  item={item}\n                  updateStateInParent={updateStateInParent}\n                />\n              </div>\n            ))}\n          </ul>\n        </div>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Settings;\n","import React, { useState, useEffect } from \"react\";\nimport { useStateValue } from \"../../../context-api/StateProvider\";\nimport SingleVideo from \"./SingleVideo\";\nimport Settings from \"./Settings\";\n\nconst VideoLandingPage = () => {\n  const [{ cameraStatus }] = useStateValue();\n  const [camera_list, setCameraList] = useState([]);\n  const [activeCameraCount, setActiveCameraCount] = useState(0);\n  const updateCameraStatus =JSON.stringify(cameraStatus)\n\n  useEffect(() => {\n    try {\n      var camera_list = cameraStatus;\n      // find the active camera count\n      var cameraCount = camera_list.filter(\n        ({ state }) => state === true\n      ).length;\n      setActiveCameraCount(cameraCount);\n      setCameraList(camera_list);\n    } catch (e) {\n      console.log(\"error\");\n    }\n  }, [updateCameraStatus,cameraStatus]);\n\n  const returnCameraComponent = (camera_list) => {\n    if (camera_list.length > 0) {\n      // console.log(activeCameraCount)\n      var individualComponent = camera_list.map((item) =>\n        item.state ? (\n          <SingleVideo\n            key={item.name}\n            activeCameraCount={activeCameraCount}\n            name={item.name}\n            videoSource={item.videoSource}\n          />\n        ) : (\n          \"\"\n        )\n      );\n      return individualComponent;\n    }\n  };\n\n  const resetLayout = () => {\n    console.log(\"pressed reset layout\");\n    // go back to default layout\n    localStorage.removeItem(\"rgl-8\");\n    // refresh after removing the local stored object\n    window.location.reload(false);\n  };\n  return (\n    <div className=\" h-100 w-100 m-0 p-1 postion-relative\">\n      <div\n        className=\"position-absolute d-flex align-items-center justify-content-center cancelDraggable\"\n        style={{ right: \"10px\", zIndex: 1 }}\n      >\n        <div onClick={resetLayout}>\n          <img\n            src=\"https://iconsplace.com/wp-content/uploads/_icons/ffffff/256/png/restart-icon-18-256.png\"\n            style={{\n              width: \"15px\",\n              height: \"15px\",\n              marginRight: \"5px\",\n            }}\n          />\n        </div>\n        <Settings />\n      </div>\n      <div className=\"row h-100 w-100 m-0\">\n        {returnCameraComponent(camera_list)}\n      </div>\n    </div>\n  );\n};\n\nexport default VideoLandingPage;\n"],"sourceRoot":""}