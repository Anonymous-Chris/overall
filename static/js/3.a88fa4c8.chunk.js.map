{"version":3,"sources":["components/features/surveillance/SingleVideo.js","components/features/surveillance/PowerSwitch.js","components/features/surveillance/Settings.js","components/features/surveillance/VideoLandingPage.js"],"names":["SingleVideo","props","handle","useFullScreenHandle","addVideoorImage","videoSource","match","className","src","alt","style","objectFit","maxHeight","maxWidth","includes","controls","autoPlay","muted","type","paddingTop","frameBorder","allowFullScreen","position","top","left","getComponent","cameraName","activeCameraCount","border","name","PowerSwitch","useState","tempState","setTempState","useEffect","item","state","Fragment","onClick","updateStateInParent","defaultChecked","xlinkHref","xmlns","display","viewBox","id","x1","y1","x2","y2","cx","cy","r","Settings","useStateValue","dispatch","open","setOpen","camera_list","setCameraList","localStorage","getItem","JSON","parse","cameraStatus","status","map","setItem","stringify","console","log","width","height","background","zIndex","overflow","listStyleType","VideoLandingPage","setActiveCameraCount","updateCameraStatus","cameraCount","filter","length","e","right","marginRight","clear","removeItem","window","location","reload","returnCameraComponent"],"mappings":"gMAuFeA,EAlFK,SAACC,GAEnB,IAAMC,EAASC,cASTC,EAAkB,SAACC,GAAD,OACyB,OAApC,OAAXA,QAAW,IAAXA,OAAA,EAAAA,EAAaC,MAAM,0BACjB,cAAC,IAAD,UACE,qBACEC,UAAU,gBACVC,IAAKH,EACLI,IAAI,SACJC,MAAO,CAAEC,UAAW,UAAWC,UAAW,OAAQC,SAAU,YAG9DR,EAAYS,SAAS,OACvB,cAAC,IAAD,UACE,uBAAOP,UAAU,cAAcQ,UAAQ,EAACC,UAAQ,EAACC,OAAK,EAAtD,SACE,wBAAQT,IAAKH,EAAaa,KAAK,kBAInC,cAAC,IAAD,UACE,qBAAKR,MAAO,CAAES,WAAY,UAA1B,SACE,wBACEZ,UAAU,cACVC,IAAKH,EACLe,YAAa,EACbC,iBAAe,EACfX,MAAO,CACLY,SAAU,WACVC,IAAK,EACLC,KAAM,UAMZC,EAAe,SAACC,EAAYrB,GAAb,OACnB,cAAC,IAAD,CACEH,OAAQA,EACRK,UAAU,+DAFZ,SAKGH,EAAgBC,MAQrB,OAAmC,IAA5BJ,EAAM0B,kBACX,qBACEpB,UAAU,uHACVG,MAAO,CAAEkB,OAAQ,oBAFnB,SAIGH,EAAaxB,EAAM4B,KAAM5B,EAAMI,eAEJ,IAA5BJ,EAAM0B,kBACR,qBACEpB,UAAU,oHACVG,MAAO,CAAEkB,OAAQ,oBAFnB,SAIGH,EAAaxB,EAAM4B,KAAM5B,EAAMI,eAGlC,qBACEE,UAAU,oHACVG,MAAO,CAAEkB,OAAQ,oBAFnB,SAIGH,EAAaxB,EAAM4B,KAAM5B,EAAMI,gBC7BvByB,G,OAnDK,SAAC7B,GAEnB,MAA+B8B,oBAAS,GAAxC,mBAAOC,EAAP,KAAiBC,EAAjB,KACAC,qBAAU,WAERD,EAAahC,EAAMkC,KAAKC,SACxB,CAACnC,IAKH,OACE,eAAC,IAAMoC,SAAP,WACE,sBAAK9B,UAAU,eAAe+B,QANb,WACnBL,GAAchC,EAAMkC,KAAKC,OACzBnC,EAAMsC,oBAAoBtC,EAAMkC,KAAKN,MAAO5B,EAAMkC,KAAKC,QAIrD,UACGnC,EAAMkC,KAAKC,OAASJ,EACnB,uBAAOd,KAAK,WAAWsB,gBAAc,IAErC,uBAAOtB,KAAK,aAEd,sBAAKX,UAAU,SAAf,UACE,sBAAKA,UAAU,YAAf,UACE,qBAAKkC,UAAU,QAAQlC,UAAU,SACjC,qBAAKkC,UAAU,UAAUlC,UAAU,cAErC,sBAAKA,UAAU,WAAf,UACE,qBAAKkC,UAAU,QAAQlC,UAAU,SACjC,qBAAKkC,UAAU,UAAUlC,UAAU,oBAKzC,sBAAKmC,MAAM,6BAA6BhC,MAAO,CAAEiC,QAAS,QAA1D,UACE,wBACED,MAAM,6BACNE,QAAQ,cACRC,GAAG,OAHL,SAKE,sBAAMC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,OAEpC,wBACEP,MAAM,6BACNE,QAAQ,cACRC,GAAG,SAHL,SAKE,wBAAQK,GAAI,GAAIC,GAAI,GAAIC,EAAG,eC8FtBC,EAzIE,WAEf,MAAqBC,cAAZC,EAAT,oBAEA,EAAwBxB,oBAAS,GAAjC,mBAAOyB,EAAP,KAAaC,EAAb,KAEA,EAAqC1B,mBAAS,CAC5C,CACEF,KAAM,MACNO,OAAO,EACP/B,YAAa,6CAEf,CACEwB,KAAM,MACNO,OAAO,EACP/B,YACA,+EAEF,CACEwB,KAAM,QACNO,OAAO,EACP/B,YACE,+EAEJ,CACEwB,KAAM,OACNO,OAAO,EACP/B,YACA,+EAEF,CACEwB,KAAM,OACNO,OAAO,EACP/B,YACA,+EAEF,CACEwB,KAAM,MACNO,OAAO,EACP/B,YACA,iFAlCJ,mBAAOqD,EAAP,KAAoBC,EAApB,KAsCAzB,qBAAU,WAkBJ0B,aAAaC,QAAQ,gBACvBF,EAAcG,KAAKC,MAAMH,aAAaC,QAAQ,mBAE/C,IAEH3B,qBAAU,WACRqB,EAAS,CACPrC,KAAM,uBACN8C,aAAcN,MAEf,CAACA,EAAaH,IAGjB,IAKMhB,EAAsB,SAACV,EAAMoC,GACjCP,EAAYQ,KAAI,SAAC/B,GAAD,OACdA,EAAKN,OAASA,EAAQM,EAAI,MAAY8B,EAAU,MAGlDL,aAAaO,QAAQ,cAAeL,KAAKM,UAAUV,IACnDH,EAAS,CACPrC,KAAM,uBACN8C,aAAcN,KAGlB,OACE,eAAC,IAAMrB,SAAP,WACE,mBAAG9B,UAAU,aAAa+B,QAlBV,WAClB+B,QAAQC,IAAI,WACZb,GAASD,MAkBNA,GACC,sBACEjD,UAAU,8DACVG,MAAO,CACLa,IAAK,OACLC,KAAM,SACN+C,MAAO,QACPC,OAAQ,QACRC,WAAY,kBACZC,OAAQ,EACRC,SAAU,UATd,UAYE,wCACA,oBACEpE,UAAU,sDACVG,MAAO,CAAEkE,cAAe,QAF1B,SAMGlB,EAAYQ,KAAI,SAAC/B,GAAD,OACf,sBACE5B,UAAU,0DADZ,UAIE,qBAAIA,UAAU,OAAd,oBACU4B,EAAKN,OADW,SAAWM,EAAKN,MAG1C,cAAC,EAAD,CAEEM,KAAMA,EACNI,oBAAqBA,GAFhBJ,EAAKN,QANPM,EAAKN,kBCxCXgD,UA5EU,WACvB,MAA2BvB,cAAlBU,EAAT,oBAASA,aACT,EAAqCjC,mBAAS,IAA9C,mBAAO2B,EAAP,KAAoBC,EAApB,KACA,EAAkD5B,mBAAS,GAA3D,mBAAOJ,EAAP,KAA0BmD,EAA1B,KACMC,EAAqBjB,KAAKM,UAAUJ,GAE1C9B,qBAAU,WACR,IACE,IAAIwB,EAAcM,EAEdgB,EAActB,EAAYuB,QAC5B,mBAAyB,IAAzB,EAAG7C,SACH8C,OACFJ,EAAqBE,GACrBrB,EAAcD,GACd,MAAOyB,GACPd,QAAQC,IAAI,YAEb,CAACS,EAAoBf,IA8BxB,OACE,sBAAKzD,UAAU,sEAAf,UACE,sBACEA,UAAU,gHACVG,MAAO,CAAE0E,MAAO,OAAQV,OAAQ,GAFlC,UAIE,qBAAKhE,MAAO,CAAE2E,YAAa,QAAU/C,QAftB,kBAAMsB,aAAa0B,SAelC,SACE,mBAAG/E,UAAU,mBAEf,qBAAK+B,QAhBS,WAClB+B,QAAQC,IAAI,wBAEZV,aAAa2B,WAAW,SAExBC,OAAOC,SAASC,QAAO,IAWnB,SACE,qBACElF,IAAI,0FACJE,MAAO,CACL6D,MAAO,OACPC,OAAQ,OACRa,YAAa,WAInB,cAAC,EAAD,OAEF,qBAAK9E,UAAU,sBAAf,SAjD0B,SAACmD,GAC7B,GAAIA,EAAYwB,OAAS,EAcvB,OAZ0BxB,EAAYQ,KAAI,SAAC/B,GAAD,OACxCA,EAAKC,MACH,cAAC,EAAD,CAEET,kBAAmBA,EACnBE,KAAMM,EAAKN,KACXxB,YAAa8B,EAAK9B,aAHb8B,EAAKN,MAMZ,MAsCD8D,CAAsBjC,U","file":"static/js/3.a88fa4c8.chunk.js","sourcesContent":["import React from \"react\";\nimport { FullScreen, useFullScreenHandle } from \"react-full-screen\";\nimport \"../../../css/responsive2x2.css\";\nimport LazyLoad from \"react-lazyload\";\n\nconst SingleVideo = (props) => {\n  // console.log(props);\n  const handle = useFullScreenHandle();\n  // var handleExpand = (handle) => {\n  //   if (handle.active) {\n  //     return handle.exit;\n  //   } else {\n  //     return handle.enter;\n  //   }\n  // };\n\n  const addVideoorImage = (videoSource) =>\n    videoSource?.match(/\\.(jpeg|jpg|gif|png)$/) != null ? (\n      <LazyLoad>\n        <img\n          className=\"w-100 h-auto \"\n          src={videoSource}\n          alt=\"image1\"\n          style={{ objectFit: \"contain\", maxHeight: \"100%\", maxWidth: \"100%\" }}\n        />\n      </LazyLoad>\n    ) : videoSource.includes(\"mp4\") ? (\n      <LazyLoad>\n        <video className=\"w-100 h-100\" controls autoPlay muted>\n          <source src={videoSource} type=\"video/mp4\" />\n        </video>\n      </LazyLoad>\n    ) : (\n      <LazyLoad>\n        <div style={{ paddingTop: \"56.25%\" }}>\n          <iframe\n            className=\"w-100 h-100\"\n            src={videoSource}\n            frameBorder={0}\n            allowFullScreen\n            style={{\n              position: \"absolute\",\n              top: 0,\n              left: 0,\n            }}\n          />\n        </div>\n      </LazyLoad>\n    );\n  const getComponent = (cameraName, videoSource) => (\n    <FullScreen\n      handle={handle}\n      className=\"w-100 h-100 d-flex align-items-center justify-content-center\"\n    >\n      {/**/}\n      {addVideoorImage(videoSource)}\n      {/* <div className=\"w-100 d-flex position-absolute p-1 bottom-0 start-0 responsive__bar\">\n        <div className=\"livebtn  bottom-0 start-0 p-1\">live</div>\n        <div className=\"camera p-1\">{cameraName}</div>\n        <i className=\"fas fa-expand fa-2x\" onClick={handleExpand(handle)}></i>\n      </div> */}\n    </FullScreen>\n  );\n  return props.activeCameraCount === 1 ? (\n    <div\n      className=\"singlevideo col-12 col-sm-12 col-md-12 col-lg-12 d-flex align-items-center justify-content-center position-relative \"\n      style={{ border: \"1px solid orange\" }}\n    >\n      {getComponent(props.name, props.videoSource)}\n    </div>\n  ) : props.activeCameraCount === 2 ? (\n    <div\n      className=\"singlevideo col-12 col-sm-6 col-md-6 col-lg-6 d-flex align-items-center justify-content-center position-relative \"\n      style={{ border: \"1px solid orange\" }}\n    >\n      {getComponent(props.name, props.videoSource)}\n    </div>\n  ) : (\n    <div\n      className=\"singlevideo col-12 col-sm-6 col-md-6 col-lg-4 d-flex align-items-center justify-content-center position-relative \"\n      style={{ border: \"1px solid orange\" }}\n    >\n      {getComponent(props.name, props.videoSource)}\n    </div>\n  );\n};\n\nexport default SingleVideo;\n","import React,{useState,useEffect} from \"react\";\nimport \"../../../css/powerswitch.css\";\nconst PowerSwitch = (props) => {\n  // console.log(props.item);\n  const [tempState,setTempState]=useState(false)\n  useEffect(()=>{\n    // console.log(props.item.state)\n    setTempState(props.item.state)\n  },[props])\n  const updateStatus = () => {\n    setTempState(!props.item.state)\n    props.updateStateInParent(props.item.name, !props.item.state);\n  };\n  return (\n    <React.Fragment>\n      <div className=\"power-switch\" onClick={updateStatus}>\n        {props.item.state && tempState ? (\n          <input type=\"checkbox\" defaultChecked />\n        ) : (\n          <input type=\"checkbox\" />\n        )}\n        <div className=\"button\">\n          <svg className=\"power-off\">\n            <use xlinkHref=\"#line\" className=\"line\" />\n            <use xlinkHref=\"#circle\" className=\"circle\" />\n          </svg>\n          <svg className=\"power-on\">\n            <use xlinkHref=\"#line\" className=\"line\" />\n            <use xlinkHref=\"#circle\" className=\"circle\" />\n          </svg>\n        </div>\n      </div>\n      {/* SVG */}\n      <svg xmlns=\"http://www.w3.org/2000/svg\" style={{ display: \"none\" }}>\n        <symbol\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 100 100\"\n          id=\"line\"\n        >\n          <line x1={50} y1={30} x2={50} y2={50} />\n        </symbol>\n        <symbol\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 100 100\"\n          id=\"circle\"\n        >\n          <circle cx={70} cy={60} r={20} />\n        </symbol>\n      </svg>\n    </React.Fragment>\n  );\n};\n\nexport default PowerSwitch;\n","import React, { useState, useEffect } from \"react\";\nimport PowerSwitch from \"./PowerSwitch\";\nimport { useStateValue } from \"../../../context-api/StateProvider\";\nconst Settings = () => {\n  //   const [open, setOpen] = useState(false);\n  const [, dispatch] = useStateValue();\n\n  const [open, setOpen] = useState(false);\n  //  send either video or an image source\n  const [camera_list, setCameraList] = useState([\n    {\n      name: \"one\",\n      state: true,\n      videoSource: \"https://www.youtube.com/embed/l4nfjPLkRXo\",\n    },\n    {\n      name: \"two\",\n      state: true,\n      videoSource:\n      \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4\",\n    },\n    {\n      name: \"three\",\n      state: true,\n      videoSource:\n        \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4\",\n    },\n    {\n      name: \"four\",\n      state: true,\n      videoSource:\n      \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4\",\n    },\n    {\n      name: \"five\",\n      state: true,\n      videoSource:\n      \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4\",\n    },\n    {\n      name: \"six\",\n      state: true,\n      videoSource:\n      \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4\",\n    },\n  ]);\n\n  useEffect(() => {\n    // localStorage.clear('camera_list')\n    // if (!localStorage.getItem(\"camera_list\")) {\n    //   localStorage.setItem(\"camera_list\", JSON.stringify(camera_list));\n    //   dispatch({\n    //     type: \"UPDATE_CAMERA_STATUS\",\n    //     cameraStatus: camera_list,\n    //   });\n    // } else {\n    //   var _cameraList = JSON.parse(localStorage.getItem(\"camera_list\"));\n    //   console.log(_cameraList);\n    //   setCameraList(_cameraList);\n    //   dispatch({\n    //     type: \"UPDATE_CAMERA_STATUS\",\n    //     cameraStatus: _cameraList,\n    //   });\n    // }\n\n    if (localStorage.getItem(\"camera_list\")) {\n      setCameraList(JSON.parse(localStorage.getItem(\"camera_list\")));\n    }\n  }, []);\n\n  useEffect(() => {\n    dispatch({\n      type: \"UPDATE_CAMERA_STATUS\",\n      cameraStatus: camera_list,\n    });\n  }, [camera_list, dispatch]);\n\n  // status of settings button\n  const toggleState = () => {\n    console.log(\"clicked\");\n    setOpen(!open);\n  };\n\n  const updateStateInParent = (name, status) => {\n    camera_list.map((item) =>\n      item.name === name ? (item[\"state\"] = status) : \"\"\n    );\n    // console.log(camera_list);\n    localStorage.setItem(\"camera_list\", JSON.stringify(camera_list));\n    dispatch({\n      type: \"UPDATE_CAMERA_STATUS\",\n      cameraStatus: camera_list,\n    });\n  };\n  return (\n    <React.Fragment>\n      <i className=\"fas fa-cog\" onClick={toggleState}></i>\n\n      {open && (\n        <div\n          className=\"position-absolute p-2 d-flex flex-column align-items-center\"\n          style={{\n            top: \"20px\",\n            left: \"-300px\",\n            width: \"300px\",\n            height: \"250px\",\n            background: \"rgb(33, 34, 36)\",\n            zIndex: 1,\n            overflow: \"scroll\",\n          }}\n        >\n          <h4>Camera</h4>\n          <ul\n            className=\"m-0 p-2 w-100 d-flex flex-column align-items-center\"\n            style={{ listStyleType: \"none\" }}\n          >\n            {/* {console.log(camera_list)}\n            {console.log(\"here\")} */}\n            {camera_list.map((item) => (\n              <div\n                className=\"d-flex w-100 justify-content-between align-items-center\"\n                key={item.name}\n              >\n                <li className=\"pb-1\" key={`camera` + item.name}>\n                  Camera {item.name}\n                </li>\n                <PowerSwitch\n                  key={item.name}\n                  item={item}\n                  updateStateInParent={updateStateInParent}\n                />\n              </div>\n            ))}\n          </ul>\n        </div>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Settings;\n","import React, { useState, useEffect } from \"react\";\nimport { useStateValue } from \"../../../context-api/StateProvider\";\nimport SingleVideo from \"./SingleVideo\";\nimport Settings from \"./Settings\";\n\nconst VideoLandingPage = () => {\n  const [{ cameraStatus }] = useStateValue();\n  const [camera_list, setCameraList] = useState([]);\n  const [activeCameraCount, setActiveCameraCount] = useState(0);\n  const updateCameraStatus = JSON.stringify(cameraStatus);\n\n  useEffect(() => {\n    try {\n      var camera_list = cameraStatus;\n      // find the active camera count\n      var cameraCount = camera_list.filter(\n        ({ state }) => state === true\n      ).length;\n      setActiveCameraCount(cameraCount);\n      setCameraList(camera_list);\n    } catch (e) {\n      console.log(\"error\");\n    }\n  }, [updateCameraStatus, cameraStatus]);\n\n  const returnCameraComponent = (camera_list) => {\n    if (camera_list.length > 0) {\n      // console.log(activeCameraCount)\n      var individualComponent = camera_list.map((item) =>\n        item.state ? (\n          <SingleVideo\n            key={item.name}\n            activeCameraCount={activeCameraCount}\n            name={item.name}\n            videoSource={item.videoSource}\n          />\n        ) : (\n          \"\"\n        )\n      );\n      return individualComponent;\n    }\n  };\n\n  const checkChanges = () => localStorage.clear()\n\n  const resetLayout = () => {\n    console.log(\"pressed reset layout\");\n    // go back to default layout\n    localStorage.removeItem(\"rgl-8\");\n    // refresh after removing the local stored object\n    window.location.reload(false);\n  };\n  return (\n    <div className=\"commonpointer h-100 w-100 m-0 p-1 postion-relative videolandingpage\">\n      <div\n        className=\"videolandingpage__floating position-absolute d-flex align-items-center justify-content-center cancelDraggable\"\n        style={{ right: \"10px\", zIndex: 1 }}\n      >\n        <div style={{ marginRight: \"10px\" }} onClick={checkChanges}>\n          <i className=\"fas fa-broom\"></i>\n        </div>\n        <div onClick={resetLayout}>\n          <img\n            src=\"https://iconsplace.com/wp-content/uploads/_icons/ffffff/256/png/restart-icon-18-256.png\"\n            style={{\n              width: \"15px\",\n              height: \"15px\",\n              marginRight: \"5px\",\n            }}\n          />\n        </div>\n        <Settings />\n      </div>\n      <div className=\"row h-100 w-100 m-0\">\n        {returnCameraComponent(camera_list)}\n      </div>\n    </div>\n  );\n};\n\nexport default VideoLandingPage;\n"],"sourceRoot":""}